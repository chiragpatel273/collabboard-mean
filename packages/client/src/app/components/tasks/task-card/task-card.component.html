<div class="task-card" draggable="true" (dragstart)="onDragStart($event)">
  <div class="task-header">
    <div class="task-priority" [style.background-color]="getPriorityColor(task.priority)">
      {{ getPriorityText(task.priority) }}
    </div>
    <div class="task-actions">
      <button class="action-btn" (click)="onDelete()" title="Delete task">âœ•</button>
    </div>
  </div>

  <h4 class="task-title">{{ task.title }}</h4>

  <p class="task-description" *ngIf="task.description">
    {{ task.description }}
  </p>

  <div class="task-tags" *ngIf="task.tags && task.tags.length > 0">
    <span class="task-tag" *ngFor="let tag of task.tags">
      {{ tag }}
    </span>
  </div>

  <div class="task-footer">
    <div class="task-dates">
      <span class="created-date"> Created: {{ formatDate(task.createdAt) }} </span>
      <span class="due-date" *ngIf="task.dueDate"> Due: {{ formatDate(task.dueDate) }} </span>
    </div>

    <div class="task-status-controls">
      <select class="status-select" [value]="task.status" (change)="onStatusChange($event)">
        <option [value]="TaskStatus.TODO">To Do</option>
        <option [value]="TaskStatus.IN_PROGRESS">In Progress</option>
        <option [value]="TaskStatus.DONE">Done</option>
      </select>
    </div>
  </div>

  <div class="task-assignee" *ngIf="task.assignedTo">
    <small>Assigned to: {{ task.assignedTo }}</small>
  </div>
</div>
